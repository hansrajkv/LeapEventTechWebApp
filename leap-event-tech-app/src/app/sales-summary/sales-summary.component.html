<div class="page-header">
  <h2>Top 5 Events by Sales</h2>
  <button class="btn-primary" [routerLink]="['/events']">Back to Events</button>
</div>

<div *ngIf="loading()">Loadingâ€¦</div>
<div *ngIf="error() as e" style="color:#b00020">
  {{ e }} <button (click)="load()">Retry</button>
</div>

<h3>By Tickets Sold</h3>
<table *ngIf="byCount() as rows" class="styled-table">
  <thead>
  <tr><th>Event</th><th>Tickets Sold</th><th>Total Amount</th></tr>
  </thead>
  <tbody>
  <tr *ngFor="let r of rows">
    <td>{{ r.eventName }}</td>
    <td>{{ r.ticketsSold }}</td>
    <td>${{ dollars(r.totalCents) }}</td>
  </tr>
  </tbody>
</table>

<h3>By Total Amount</h3>
<table *ngIf="byAmount() as rows2" class="styled-table">
  <thead>
  <tr><th>Event</th><th>Tickets Sold</th><th>Total Amount</th></tr>
  </thead>
  <tbody>
  <tr *ngFor="let r of rows2">
    <td>{{ r.eventName }}</td>
    <td>{{ r.ticketsSold }}</td>
    <td>${{ dollars(r.totalCents) }}</td>
  </tr>
  </tbody>
</table>
